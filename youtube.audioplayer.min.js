var youtubeAudio={create:function(t){var e=document.getElementsByTagName("body")[0],a=[],s=document.createElement("script");s.src=utils.constants.youtubeIframeApiUrl,document.head.appendChild(s);var l=document.createElement("link");l.href=utils.constants.bootstrapUrl,l.rel="stylesheet",l.crossorigin="anonymous",document.head.appendChild(l),window.onYouTubeIframeAPIReady=function(){a=youtubeAudio.loadPlayer(a)};var o=document.getElementsByClassName("player");[].forEach.call(o,function(s,l){var o=s,n=o.getAttribute(utils.constants.youtubeLinkKey),r=utils.getVideoId(n),i="audio_"+l;e.appendChild(utils.createDiv(i));var c={domId:i,videoId:r,controller:o,player:null};a.push(c),o.addEventListener("click",function(){var e=o.getAttribute(utils.constants.embeddableKey),s=o.getAttribute(utils.constants.playingKey);(void 0==e||"false"!==e)&&(t.multiple||[].forEach.call(a,function(t,e){if(l!==e){var a=t.controller.getAttribute(utils.constants.embeddableKey);(void 0==a||"false"!==a)&&(t.player.pauseVideo(),t.controller.className=utils.constants.playIconClass,t.controller.setAttribute(utils.constants.playingKey,"false"))}}),void 0==s||"false"===s?(a[l].player.playVideo(),o.className=utils.constants.playerClass+" "+utils.constants.pauseIconClass,o.setAttribute(utils.constants.playingKey,"true")):(a[l].player.pauseVideo(),o.className=utils.constants.playerClass+" "+utils.constants.playIconClass,o.setAttribute(utils.constants.playingKey,"false")))})})},loadPlayer:function(t){var e=[];return[].forEach.call(t,function(t){var a=new YT.Player(t.domId,{height:"0",width:"0",videoId:t.videoId,events:{onReady:function(e){e.target.playVideo(),e.target.pauseVideo(),t.controller.className=utils.constants.playIconClass,t.controller.style.cursor="pointer"},onError:function(e){options.showNotEmbeddable||(t.controller.parentNode.removeChild(t.controller),console.error("Video "+t.controller.getAttribute(utils.constants.youtubeLinkKey)+" is not embeddable!")),t.controller.className=utils.constants.alertIconClass,t.controller.setAttribute(utils.constants.embeddableKey,"false")},onStateChange:function(e){0===e.data&&(t.controller.className=utils.constants.playIconClass,t.controller.setAttribute(utils.constants.playingKey,"false"))}}});t.player=a,e.push(t)}),t}},utils={createDiv:function(t){var e=document.createElement("div");return e.id=t,e},getVideoId:function(t){var e=t.split("v=")[1],a=e.indexOf("&");return-1!=a&&(e=e.substring(0,a)),e},constants:{youtubeIframeApiUrl:"https://www.youtube.com/iframe_api",bootstrapUrl:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css",youtubeLinkKey:"data-youtube-link",embeddableKey:"data-embeddable",playingKey:"data-playing",playerClass:"player",playIconClass:"glyphicon glyphicon-play",pauseIconClass:"glyphicon glyphicon-pause",alertIconClass:"glyphicon glyphicon-alert"}};